@use "sass:color";
@use "../base/colors";
@use "../base/variables";

.item-card {
	display: grid;

	width: 100%;
	// width: variables.$item-card-width;
	height: variables.$item-card-height;

	// grid-template-rows: 1fr auto;
	grid-template-rows:
		calc(variables.$item-card-height - variables.$item-card-meta-h) variables.$item-card-meta-h;

	background: colors.$neutral-lighter;
	border: 1px solid colors.$primary_main;
	border-radius: variables.$border-radius;
	box-shadow: variables.$shadow-light;
	overflow: hidden;
	cursor: pointer;
	transition: transform .08s ease, box-shadow .12s ease;
	box-sizing: border-box;

	&:hover {
		transform: translateY(-2px);
		box-shadow: 0 .6rem 1.6rem rgba(0, 0, 0, .12);
	}
}

.item-card__figure {
	position: relative;
	display: grid;
	width: 100%;
	height: 100%;
	min-height: 0;
	overflow: hidden;
	background: colors.$neutral-light;
}

.item-card__image {
	width: 100%;
	height: 100%;
	object-fit: cover;
}

.item-card__tag {
	position: absolute;
	left: variables.$size-small;
	bottom: variables.$size-small;
	padding: .25rem .75rem;
	font-size: .75rem;
	color: colors.$neutral-darker;
	background: color.change(colors.$neutral-lighter, $alpha: .6);
	border-radius: variables.$border-radius;
}

.item-card__add {
	position: absolute;
	top: variables.$size-small;
	right: variables.$size-small;
	display: grid;
	place-items: center;
	width: 1.5rem;
	height: 1.5rem;
	border-radius: 999px;
	background: colors.$neutral-lighter;
	border: 1px solid color.change(colors.$primary_main, $alpha: .25);
	font-weight: 700;
	line-height: 1;
	user-select: none;

	&:hover {
		background: color.scale(colors.$neutral-lighter, $lightness: -5%);
	}
}

.item-card__meta {
	height: variables.$item-card-meta-h;
	box-sizing: border-box;
	display: grid;
	grid-template-columns: 1fr auto;
	align-items: center;
	gap: variables.$size-small;
	padding: variables.$item-card-meta-pad-y .75rem;
	color: colors.$primary-dark;
	overflow: hidden;
}

.item-card__title {
	font-size: .875rem;
	font-weight: 400;
	line-height: variables.$item-card-meta-line-h;

	/* Evitar que títols llargs facin créixer la meta */
	display: -webkit-box;
	-webkit-line-clamp: variables.$item-card-meta-lines;
	-webkit-box-orient: vertical;
	overflow: hidden;
}

.item-card__price {
	font-size: 1.125rem;
	font-weight: 600;
	white-space: nowrap;
}
